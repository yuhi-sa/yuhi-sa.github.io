<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>セキュリティ on tomato blog</title><link>https://yuhi-sa.github.io/tags/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3/</link><description>Recent content in セキュリティ on tomato blog</description><generator>Hugo</generator><language>ja</language><lastBuildDate>Mon, 23 Feb 2026 20:44:30 +0900</lastBuildDate><atom:link href="https://yuhi-sa.github.io/tags/%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3/index.xml" rel="self" type="application/rss+xml"/><item><title>セキュリティ資格比較：CISSP vs 情報処理安全確保支援士</title><link>https://yuhi-sa.github.io/posts/20260223_security_certs/1/</link><pubDate>Mon, 23 Feb 2026 16:00:00 +0900</pubDate><guid>https://yuhi-sa.github.io/posts/20260223_security_certs/1/</guid><description/></item><item><title>Micro Hardening研修参加レポート</title><link>https://yuhi-sa.github.io/posts/20250821_hardening/1/</link><pubDate>Thu, 21 Aug 2025 09:10:00 +0900</pubDate><guid>https://yuhi-sa.github.io/posts/20250821_hardening/1/</guid><description>&lt;ul&gt;
&lt;li&gt;研修日：8/21(木)&lt;/li&gt;
&lt;li&gt;主催：&lt;a href="https://www.sec-k.co.jp/mh"&gt;川口洋さん&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;セキュリティ研修「マイクロハーデニング」に参加した記録です。&lt;/p&gt;
&lt;h2 id="研修の概要"&gt;研修の概要&lt;/h2&gt;
&lt;p&gt;実際のECサイト（WordPress+Apache+MySQLが1台のサーバーで稼働）を4人1組のチームで防御し、売上最大化を目指す内容。1分ごとにクローラーがECサイトで購入を行い、45分間で購入できた点数を競う。攻撃による改ざんで売上が下がったり、防御に成功するとボーナスが加算される仕組み。&lt;/p&gt;
&lt;p&gt;研修は45分×4セットで実施。&lt;/p&gt;
&lt;p&gt;※具体的な脆弱性はネタバレ防止のため記載しません。自分たちの考えや学びを中心にまとめています。&lt;/p&gt;
&lt;h1 id="各セットの取り組み"&gt;各セットの取り組み&lt;/h1&gt;
&lt;h3 id="1セット目"&gt;1セット目&lt;/h3&gt;
&lt;p&gt;最初は攻撃手法や脆弱性の全容が分からず、まず「どんな攻撃が来るのか」を知ることを重視。サービスが止まった場合は復旧のみ行い、観察フェーズとした。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;アクセスログを確認（自分たちのIPを除外）
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-gdscript3" data-lang="gdscript3"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;tail&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="mi"&gt;500&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="k"&gt;var&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nb"&gt;log&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;httpd&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;access_log&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;grep&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;192.168.0.200&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;lastコマンドでアクセスユーザーの確認&lt;/li&gt;
&lt;li&gt;/var/www/htmlの改ざんチェック&lt;/li&gt;
&lt;li&gt;アクセスログをzip化しAI（ChatGPT）に投げてアドバイスをもらう&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="2セット目"&gt;2セット目&lt;/h3&gt;
&lt;p&gt;1セット目の観察で「SSH経由での侵入・改ざん」や「WordPressの脆弱性を突かれ設定ファイルが取得されている」ことが判明。改ざん検知や復旧体制を強化し、被害拡大を防ぐことを重視。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/var/www/html&lt;/code&gt;をバックアップし、diffで改ざんを検知
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-gdscript3" data-lang="gdscript3"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;cp&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="k"&gt;var&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;www&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;html&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tmp&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;html&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;diff&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="k"&gt;var&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;www&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;html&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tmp&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;html&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;改ざんがあれば即時復旧&lt;/li&gt;
&lt;li&gt;MySQLのデータもdumpしてバックアップ
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mysqldump -u root -p wordpress &amp;gt; /tmp/wordpress_backup.sql
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;ログ監視も継続&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="3セット目"&gt;3セット目&lt;/h3&gt;
&lt;p&gt;2セット目までの観察・検知で「FTP経由での攻撃」や「不要なプラグインの悪用」「PUTメソッドの悪用」など、攻撃者が使える余計な入り口が多いことが判明。不要なサービスやアカウントを整理・制限し、攻撃面を減らすことに注力。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;不要なWordPressプラグインの洗い出し・停止&lt;/li&gt;
&lt;li&gt;FTPが悪用されていたためFTPサービス停止
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo service vsftpd stop
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;不要アカウントのロック、利用アカウントのパスワード変更
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo passwd -l admin
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;PUTメソッド（正常運用で不要）が悪用されていたため禁止&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;サービスやプラグインの削除・停止は1つずつ行い、影響を都度確認しながら進めた。&lt;/p&gt;
&lt;h3 id="4セット目"&gt;4セット目&lt;/h3&gt;
&lt;p&gt;前回までで主なバックドアや攻撃経路を塞いだつもりだったが、特定の商品だけ購入できなくなるという異常が発生。「データ改ざんが起きている」と判断し、原因究明とアクセス制限を強化。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;phpMyAdminへのアクセスを禁止&lt;/li&gt;
&lt;li&gt;特定商品のみ購入できなくなり、データ改ざんを疑うも、どこが改ざんされたか特定できずにタイムアップ&lt;/li&gt;
&lt;li&gt;ネタバレで「商品タイトルの改ざん」と判明。自分たちは「商品情報自体（在庫や価格など）の改ざん」と思い込み、DBばかりを重点的に調査していた。&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="ネタバレで印象に残ったこと"&gt;ネタバレで印象に残ったこと&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;脆弱なWordPressは「停止」だけでなく「削除」も必要な場合がある&lt;/li&gt;
&lt;li&gt;一部プラグインはdisable関数が未実装で、WordPressからデータが渡ることがある&lt;/li&gt;
&lt;li&gt;WebDAVの設定やFTPサーバーのログも要注意&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href="https://ja.wikipedia.org/wiki/%E4%B8%8A%E9%87%8E%E5%AE%A3"&gt;上野宣&lt;/a&gt;さんの解き方が一番美しかったとのこと。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1回目は徹底的にログを取り続ける&lt;/li&gt;
&lt;li&gt;クローラーの1分ごとのアクセスに合わせて、1分ごとに設定を変え、どの設定で購入できなくなるかを確認する&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;一般的な障害対応については、以下の記事が参考になる。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://note.com/mmiya/n/n746eb2e36f81"&gt;重大事故の時にどうするか？&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="チームの振り返り"&gt;チームの振り返り&lt;/h1&gt;
&lt;h3 id="チーム運営情報共有"&gt;チーム運営・情報共有&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;防御対応の役割分担を明確にして対応&lt;/li&gt;
&lt;li&gt;セットごとにスレッドでやったこと・気づきを共有&lt;/li&gt;
&lt;li&gt;怪しい点や解決案も積極的に提案&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="ai活用"&gt;AI活用&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;アクセスログやエラーログをAIに投げて助言・対策案をもらった&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="今後の開発運用で取り入れたいこと"&gt;今後の開発運用で取り入れたいこと&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;余計なライブラリは入れない&lt;/li&gt;
&lt;li&gt;脆弱なバージョンは使わない&lt;/li&gt;
&lt;li&gt;EOL対応を徹底&lt;/li&gt;
&lt;li&gt;権限管理の徹底&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="まとめ個人の学び"&gt;まとめ・個人の学び&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;普段はSplunkやk8s環境で運用しているため、Linuxのログの場所や見るべきポイントの知見が少なかったと実感&lt;/li&gt;
&lt;li&gt;あらゆるログを幅広く確認することの大切さ&lt;/li&gt;
&lt;li&gt;改ざん箇所は先入観なく、システマチックに1つずつ確認する必要性&lt;/li&gt;
&lt;li&gt;不要なサービスやアカウントは作らない&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Hackfes2025参加メモ</title><link>https://yuhi-sa.github.io/posts/20250719_hackfes2025/1/</link><pubDate>Sat, 19 Jul 2025 09:10:00 +0900</pubDate><guid>https://yuhi-sa.github.io/posts/20250719_hackfes2025/1/</guid><description/></item><item><title>自費で18万円かけてCISSP試験に挑戦してみた話</title><link>https://yuhi-sa.github.io/posts/20240608_cissp/3/</link><pubDate>Sat, 09 Nov 2024 09:10:00 +0900</pubDate><guid>https://yuhi-sa.github.io/posts/20240608_cissp/3/</guid><description/></item><item><title>『OSINT実践ガイド』読書メモ：オープンソースインテリジェンスの基礎</title><link>https://yuhi-sa.github.io/posts/20240829/1/</link><pubDate>Thu, 29 Aug 2024 09:10:00 +0900</pubDate><guid>https://yuhi-sa.github.io/posts/20240829/1/</guid><description/></item><item><title>主要セキュリティモデルの比較：Biba完全性モデル、Clark-Wilsonモデル、Brewer-Nashモデル、Bell-LaPadulaモデル</title><link>https://yuhi-sa.github.io/posts/20240608_cissp/2/</link><pubDate>Sun, 16 Jun 2024 09:10:00 +0900</pubDate><guid>https://yuhi-sa.github.io/posts/20240608_cissp/2/</guid><description/></item><item><title>CISSP：セキュリティガバナンスにおける主要フレームワークの比較</title><link>https://yuhi-sa.github.io/posts/20240608_cissp/1/</link><pubDate>Thu, 06 Jun 2024 09:10:00 +0900</pubDate><guid>https://yuhi-sa.github.io/posts/20240608_cissp/1/</guid><description/></item><item><title>情報処理安全確保支援士（登録セキスペ）合格体験記：勉強法から登録まで</title><link>https://yuhi-sa.github.io/posts/20240503_riss/1/</link><pubDate>Fri, 03 May 2024 10:10:00 +0900</pubDate><guid>https://yuhi-sa.github.io/posts/20240503_riss/1/</guid><description/></item><item><title>メールセキュリティ：認証・暗号化技術の仕組みと実装</title><link>https://yuhi-sa.github.io/posts/20230328_mail_auth/1/</link><pubDate>Tue, 28 Mar 2023 09:00:23 +0900</pubDate><guid>https://yuhi-sa.github.io/posts/20230328_mail_auth/1/</guid><description/></item><item><title>シングルサインオン（SSO）とID連携</title><link>https://yuhi-sa.github.io/posts/20230105_sec/2/</link><pubDate>Tue, 03 Jan 2023 09:00:23 +0900</pubDate><guid>https://yuhi-sa.github.io/posts/20230105_sec/2/</guid><description/></item><item><title>チャレンジレスポンス認証方式</title><link>https://yuhi-sa.github.io/posts/20230105_sec/1/</link><pubDate>Tue, 03 Jan 2023 09:00:23 +0900</pubDate><guid>https://yuhi-sa.github.io/posts/20230105_sec/1/</guid><description/></item><item><title>公開鍵認証方式を用いたSSH通信の設定方法</title><link>https://yuhi-sa.github.io/posts/20211121_linux/5/</link><pubDate>Fri, 03 Dec 2021 10:00:23 +0900</pubDate><guid>https://yuhi-sa.github.io/posts/20211121_linux/5/</guid><description/></item></channel></rss>