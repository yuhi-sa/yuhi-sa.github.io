<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>K8s on tomato blog</title>
    <link>https://yuhi-sa.github.io/tags/k8s/</link>
    <description>Recent content in K8s on tomato blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja</language>
    <lastBuildDate>Sun, 04 Sep 2022 10:00:23 +0900</lastBuildDate>
    <atom:link href="https://yuhi-sa.github.io/tags/k8s/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Kubernetesã®èªè¨¼æƒ…å ±(Context)</title>
      <link>https://yuhi-sa.github.io/posts/20220831_k8s/5/</link>
      <pubDate>Sun, 04 Sep 2022 10:00:23 +0900</pubDate>
      <guid>https://yuhi-sa.github.io/posts/20220831_k8s/5/</guid>
      <description>kubeconfig kubectlãŒã€k8s Masterã¨é€šä¿¡ã™ã‚‹éš›ã«ã¯ã€æ¥ç¶šå…ˆã‚µãƒ¼ãƒã®ã®èªè¨¼æƒ…å ±ã‚’ã€Œ~/.kube/confgã€ã«è¨˜è¼‰ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚&#xA;kubeconfigã§å…·ä½“çš„ãªè¨­å®šã‚’è¡Œã†éƒ¨åˆ†ã¯ã€clustersã€usersã€contextsã®ä¸‰ç¨®é¡ã‚ã‚Šã€é…åˆ—å‹ã§è¨­å®šã™ã‚‹ã€‚ clustersã«ã¯æ¥ç¶šå…ˆã‚¯ãƒ©ã‚¹ã‚¿ã®æƒ…å ±ã‚’ã€usersã«ã¯èªè¨¼æƒ…å ±ã‚’å®šç¾©ã™ã‚‹ã€‚contextsã¯clusterã¨userã®ãƒšã‚¢ã¨namespaceã‚’æŒ‡å®šã—ãŸã‚‚ã®ã‚’å®šç¾©ã™ã‚‹ã€‚&#xA;apiVersion: v1 kind: Config clusters: # æ¥ç¶šå…ˆã‚¯ãƒ©ã‚¹ã‚¿æƒ…å ± - cluster: certificate-authority: /Users/USER/.minikube/ca.crt extensions: - extension: last-update: Thu, 01 Sep 2022 09:39:29 JST provider: minikube.sigs.k8s.io version: v1.26.1 name: cluster_info server: https://127.0.0.1:55537 name: minikube users: # èªè¨¼æƒ…å ± - name: minikube user: client-certificate: /Users/USER/.minikube/profiles/minikube/client.crt client-key: /Users/USER/.minikube/profiles/minikube/client.key contexts:ã€€ï¼ƒæ¥ç¶šå…ˆã¨èªè¨¼æƒ…å ±ã®çµ„ã¿åˆã‚ã› - context: cluster: minikube extensions: - extension: last-update: Thu, 01 Sep 2022 09:39:29 JST provider: minikube.sigs.k8s.io version: v1.26.1 name: context_info namespace: default user: minikube name: minikube current-context: docker-desktop preferences: {} kubeconfigã®æ“ä½œ contextã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ã§è¤‡æ•°ã®ç’°å¢ƒã‚’è¤‡æ•°ã®æ¨©é™ã§æ‰±ãˆã‚‹ã‚ˆã†ã«ãªã‚‹ã€‚</description>
    </item>
    <item>
      <title>Kubernetesã®ãƒªã‚½ãƒ¼ã‚¹ã‚«ãƒ†ã‚´ãƒª</title>
      <link>https://yuhi-sa.github.io/posts/20220831_k8s/3/</link>
      <pubDate>Thu, 01 Sep 2022 10:00:23 +0900</pubDate>
      <guid>https://yuhi-sa.github.io/posts/20220831_k8s/3/</guid>
      <description>Workloads APIsã‚«ãƒ†ã‚´ãƒª ã‚³ãƒ³ãƒ†ãƒŠã®å®Ÿè¡Œã«é–¢ã‚ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã§ä»¥ä¸‹ã®8ç¨®é¡ãŒå­˜åœ¨ã™ã‚‹ã€‚&#xA;Pod ReplicationController ReplocaSet Deployment DaemonSet StatefulSet CronJob Service APIsã‚«ãƒ†ã‚´ãƒª ã‚³ãƒ³ãƒ†ãƒŠã‚’å¤–éƒ¨å…¬é–‹ã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã§ã€åˆ©ç”¨è€…ãŒç›´æ¥åˆ©ç”¨ã™ã‚‹ã‚‚ã®ã¨ã—ã¦ã¯Serviceã¨Ingressã®2ç¨®é¡ãŒå­˜åœ¨ã™ã‚‹ã€‚&#xA;Service ClusterIP ExternalIP NodePort LoadBalancer Headless ExternalName None-Selector Ingress Config &amp;amp; Storage APIsã‚«ãƒ†ã‚´ãƒª è¨­å®šã€æ©Ÿå¯†æƒ…å ±ã€æ°¸ç¶šåŒ–ãƒœãƒªãƒ¥ãƒ¼ãƒ ã«é–¢ã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã§Secretã¨ConfigMapã€PersistentVolumeClaimãŒå­˜åœ¨ã™ã‚‹ã€‚ Secretã¨ConfigMapã¯Key-Valueå½¢å¼ã§ãƒ‡ãƒ¼ã‚¿ã‚’æŒã¡ã€ersistentVolumeClaimã¯æ°¸ç¶šãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’è¦æ±‚ã™ã‚‹æ™‚ã«åˆ©ç”¨ã™ã‚‹ã€‚&#xA;Secret ConfigMap PersistentVolumeClaim Cluster APIsã‚«ãƒ†ã‚´ãƒª ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚„ã‚¯ã‚©ãƒ¼ã‚¿ã«é–¢ã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã§ã€ã‚¯ãƒ©ã‚¹è‡ªä½“ã®æŒ¯ã‚‹èˆã„ã‚’å®šç¾©ã™ã‚‹ã€‚&#xA;Node Namespace PersistentVolume ResourceQuota ServiceAccount Role ClusterRole RoleBinding ClusterRoleBinding NetworkPolicy Metadata APIs ã‚«ãƒ†ã‚´ãƒª ã‚¯ãƒ©ã‚¹ã‚¿å†…ã®ä»–ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’æ“ä½œã™ã‚‹ãŸã‚ã®ãƒªã‚½ãƒ¼ã‚¹ã€‚&#xA;LimitRange HorizontalPodAutoscaler PodDisruptionBudget CustomResourceDefinition å‚è€ƒ é’å±±çœŸä¹Ÿ,Kuberneteså®Œå…¨ã‚¬ã‚¤ãƒ‰ ç¬¬2ç‰ˆ impress top gearã‚·ãƒªãƒ¼ã‚º </description>
    </item>
    <item>
      <title>Kubernetesã®åˆæœŸçŠ¶æ…‹ã®Namespace</title>
      <link>https://yuhi-sa.github.io/posts/20220831_k8s/4/</link>
      <pubDate>Thu, 01 Sep 2022 10:00:23 +0900</pubDate>
      <guid>https://yuhi-sa.github.io/posts/20220831_k8s/4/</guid>
      <description>kubernetes(k8s)ã§ã¯åˆæœŸçŠ¶æ…‹ã§ä»¥ä¸‹ã®4ã¤ã®NameSpaceãŒä½œæˆã•ã‚Œã‚‹ã€‚&#xA;kube-system k8sã‚¯ãƒ©ã‚¹ã‚¿ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚„ã‚¢ãƒ‰ã‚ªãƒ³ãŒãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã‚‹NameSpace&#xA;Dashboardã‚„ã‚¢ãƒ‰ã‚ªãƒ³ãªã©&#xA;kube-public å…¨ãƒ¦ãƒ¼ã‚¶ãŒåˆ©ç”¨ã§ãã‚‹ConfigMapãªã©ã‚’é…ç½®ã™ã‚‹NameSpace&#xA;kube-node-lease ãƒãƒ¼ãƒ‰ã®ãƒãƒ¼ãƒ‰ãƒ“ãƒ¼ãƒˆæƒ…å ±ãŒä¿å­˜ã•ã‚Œã‚‹NameSpace&#xA;default ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®Namespace&#xA;å‚è€ƒ é’å±±çœŸä¹Ÿ,Kuberneteså®Œå…¨ã‚¬ã‚¤ãƒ‰ ç¬¬2ç‰ˆ impress top gearã‚·ãƒªãƒ¼ã‚º </description>
    </item>
    <item>
      <title>dockerãƒ•ã‚¡ã‚¤ãƒ«ã®å‘½ä»¤æ–‡</title>
      <link>https://yuhi-sa.github.io/posts/20220831_k8s/1/</link>
      <pubDate>Wed, 31 Aug 2022 10:00:23 +0900</pubDate>
      <guid>https://yuhi-sa.github.io/posts/20220831_k8s/1/</guid>
      <description>FROM ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’æŒ‡å®š&#xA;LABEL ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’æŒ‡å®š&#xA;USER ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’æŒ‡å®š&#xA;WORKDIR ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®š&#xA;EXPOSE ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•æ™‚ã«å…¬é–‹ã™ã‚‹ãƒãƒ¼ãƒˆã‚’æŒ‡å®š&#xA;COPY ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ³ãƒ†ãƒŠã«ã‚³ãƒ”ãƒ¼ã—ã¦é…ç½®&#xA;RUN ãƒ“ãƒ«ãƒ‰æ™‚ã«ã‚³ãƒ³ãƒ†ãƒŠä¸Šã§ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹å‘½ä»¤&#xA;ENTRYPOINT ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•æ™‚ã«å®Ÿè¡Œã™ã‚‹ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒãƒ³ãƒ‰&#xA;CMD ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•æ™‚ã«å®Ÿè¡Œã™ã‚‹ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒãƒ³ãƒ‰ã®å¼•æ•° â†’ã€Œ$ENTRYPOINT $CMDã€ã¨ã„ã†å½¢ã§å®Ÿè¡Œã•ã‚Œã‚‹&#xA;å‚è€ƒ é’å±±çœŸä¹Ÿ,Kuberneteså®Œå…¨ã‚¬ã‚¤ãƒ‰ ç¬¬2ç‰ˆ impress top gearã‚·ãƒªãƒ¼ã‚º </description>
    </item>
    <item>
      <title>Kubernetesã‚’ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã«æ§‹ç¯‰ã™ã‚‹</title>
      <link>https://yuhi-sa.github.io/posts/20220831_k8s/2/</link>
      <pubDate>Wed, 31 Aug 2022 10:00:23 +0900</pubDate>
      <guid>https://yuhi-sa.github.io/posts/20220831_k8s/2/</guid>
      <description>Kubernetes(k8s)ã¨ã¯ ã‚³ãƒ³ãƒ†ãƒŠåŒ–ã•ã‚ŒãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã€ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ãªã©ã®ç®¡ç†ã‚’è‡ªå‹•åŒ–ã™ã‚‹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã€‚ k8sã§ã¯ã€ã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•ã™ã‚‹ãƒãƒ¼ãƒ‰ã‚’k8sãƒãƒ¼ãƒ‰ã¨å‘¼ã³ã€ãã‚Œã‚‰ã‚’ç®¡ç†ã™ã‚‹ãƒãƒ¼ãƒ‰k8sãƒã‚¹ã‚¿ãƒ¼ã¨å‘¼ã¶ã€‚ãƒãƒ¼ãƒ‰ã®é›†åˆä½“ãŒk8sã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã§ã‚ã‚‹ã€‚&#xA;Minikube Minikubeã¯SIG-Cluster-Lifecycleã§ä½œã‚‰ã‚ŒãŸç°¡å˜ã«ãƒ­ãƒ¼ã‚«ãƒ«ã«k8sã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã‚’æ§‹ç¯‰ãƒ»å®Ÿè¡Œã§ãã‚‹ãƒ„ãƒ¼ãƒ«ã§ã‚ã‚‹ã€‚ Minikubeã§ã¯ãƒ­ãƒ¼ã‚«ãƒ«ã®ä»®è£…ãƒã‚·ãƒ³ä¸Šã«k8sã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ãŸã‚ã€ãƒã‚¤ãƒ‘ãƒ¼ãƒã‚¤ã‚¶ãƒ¼ãŒå¿…è¦ã¨ãªã‚‹ã€‚&#xA;ãƒã‚¤ãƒ‘ãƒ¼ãƒã‚¤ã‚¶ãƒ¼ã”ã¨ã«å¿œã˜ãŸDriverã‚’ä½¿ç”¨ã—ã¦æ“ä½œã™ã‚‹ã“ã¨ã§ã€è‡ªå‹•çš„ã«ãƒ›ã‚¹ãƒˆã¨ãªã‚‹ã‚³ãƒ³ãƒ†ãƒŠã‚„ä»®æƒ³ãƒã‚·ãƒ³ã‚’ä½œæˆã—ã€ ãã®ç’°å¢ƒä¸Šã«k8sã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã€‚&#xA;macOSã«ãŠã‘ã‚‹ãƒã‚¤ãƒ‘ãƒ¼ãƒã‚¤ã‚¶ãƒ¼ã«ã¯Docker/HyperKit driver/VirtualBox/Parallels/Vmware/Fusion/Podmanãªã©ãŒã‚ã‚‹ã€‚&#xA;ç¾çŠ¶ã€M1macã§ã¯dockerã—ã‹å¯¾å¿œã—ã¦ãªã•ãã†ã€ã€ï¼Ÿ&#xA;M1 Macã«ãŠã‘ã‚‹Hyperkitã¨ãã‚ŒãŒå¿…è¦ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®åˆ©ç”¨ã«ã¤ã„ã¦ Minikubeã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« $ brew install minikube ==&amp;gt; Downloading https://ghcr.io/v2/homebrew/core/kubernetes-cli/manifests/1.25.0 ######################################################################## 100.0% ==&amp;gt; Downloading https://ghcr.io/v2/homebrew/core/kubernetes-cli/blobs/sha256:e10 ==&amp;gt; Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sh ######################################################################## 100.0% ==&amp;gt; Downloading https://ghcr.io/v2/homebrew/core/minikube/manifests/1.26.1 ######################################################################## 100.0% ==&amp;gt; Downloading https://ghcr.io/v2/homebrew/core/minikube/blobs/sha256:ae9660e6a ==&amp;gt; Downloading from https://pkg-containers.githubusercontent.com/ghcr1/blobs/sh ######################################################################## 100.0% ==&amp;gt; Installing dependencies for minikube: kubernetes-cli ==&amp;gt; Installing minikube dependency: kubernetes-cli ==&amp;gt; Pouring kubernetes-cli--1.25.0.arm64_monterey.bottle.tar.gz ğŸº /opt/homebrew/Cellar/kubernetes-cli/1.25.0: 228 files, 52.8MB ==&amp;gt; Installing minikube ==&amp;gt; Pouring minikube--1.</description>
    </item>
  </channel>
</rss>
