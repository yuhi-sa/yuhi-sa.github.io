<!doctype html><html lang=en dir=ltr data-theme=light><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content="#e74c3c"><meta name=format-detection content="telephone=no"><meta name=robots content="index,follow"><meta name=description content="Understand how the use client directive propagates in Next.js App Router and learn the best patterns for placing it at the server-client component boundary."><meta name=author content="yuhi-sa"><link rel=canonical href=https://yuhi-sa.github.io/en/posts/20240504_use_client/1/><meta property="og:type" content="article"><meta property="og:title" content="Proper Usage Patterns for the use client Directive in Next.js App Router"><meta property="og:description" content="Understand how the use client directive propagates in Next.js App Router and learn the best patterns for placing it at the server-client component boundary."><meta property="og:url" content="https://yuhi-sa.github.io/en/posts/20240504_use_client/1/"><meta property="og:site_name" content="tomato blog"><meta property="og:locale" content="en"><meta property="og:image" content="https://yuhi-sa.github.io/ogp.jpeg"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta property="article:published_time" content="2024-05-03T10:10:00+09:00"><meta property="article:modified_time" content="2026-02-14T00:31:41+09:00"><meta property="article:tag" content="TypeScript"><meta property="article:tag" content="Next.js"><meta property="article:tag" content="React"><meta property="article:section" content="posts"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Proper Usage Patterns for the use client Directive in Next.js App Router"><meta name=twitter:description content="Understand how the use client directive propagates in Next.js App Router and learn the best patterns for placing it at the server-client component boundary."><meta name=twitter:image content="https://yuhi-sa.github.io/ogp.jpeg"><title>Proper Usage Patterns for the use client Directive in Next.js App Router | tomato blog</title><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preconnect href=https://cdn.jsdelivr.net crossorigin><link rel=preconnect href=https://pagead2.googlesyndication.com crossorigin><link rel=dns-prefetch href=https://pagead2.googlesyndication.com><link rel=icon href=https://yuhi-sa.github.io/favicon.ico><link rel=alternate hreflang=ja href=https://yuhi-sa.github.io/posts/20240504_use_client/1/><link rel=alternate hreflang=en href=https://yuhi-sa.github.io/en/posts/20240504_use_client/1/><link rel=alternate hreflang=x-default href=https://yuhi-sa.github.io/en/posts/20240504_use_client/1/><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Proper Usage Patterns for the use client Directive in Next.js App Router","description":"Understand how the use client directive propagates in Next.js App Router and learn the best patterns for placing it at the server-client component boundary.","author":{"@type":"Person","name":"yuhi-sa","url":"https:\/\/yuhi-sa.github.io\/"},"publisher":{"@type":"Organization","name":"tomato blog","logo":{"@type":"ImageObject","url":"https:\/\/yuhi-sa.github.io\/ogp.jpeg"},"url":"https:\/\/yuhi-sa.github.io\/"},"datePublished":"2024-05-03T10:10:00\u002b09:00","dateModified":"2026-02-14T00:31:41\u002b09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/yuhi-sa.github.io\/en\/posts\/20240504_use_client\/1\/"},"url":"https:\/\/yuhi-sa.github.io\/en\/posts\/20240504_use_client\/1\/","wordCount":398,"keywords":["TypeScript","Next.js","React"],"articleSection":"Posts","inLanguage":"en","timeRequired":"PT2M"}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"tomato blog","item":"https:\/\/yuhi-sa.github.io\/en\/"},{"@type":"ListItem","position":2,"name":"Posts","item":"https:\/\/yuhi-sa.github.io\/en\/posts\/"},{"@type":"ListItem","position":3,"name":"Proper Usage Patterns for the use client Directive in Next.js App Router"}]}</script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin=anonymous referrerpolicy=no-referrer><link href=https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css rel=stylesheet integrity=sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH crossorigin=anonymous><link rel=stylesheet href=/css/variables.min.72a177faa7b12de55dcc39c4ab6b6392116718d5e2735dab0214511354ecb973.css integrity="sha256-cqF3+qexLeVdzDnEq2tjkhFnGNXic12rAhRRE1TsuXM=" crossorigin=anonymous><link rel=stylesheet href=/css/main.min.f96a20189e31f38ad6d3afd6435427cd8819cd0ba84dc5c0e46b70e6f5a52583.css integrity="sha256-+WogGJ4x84rW06/WQ1QnzYgZzQuoTcXA5Gtw5vWlJYM=" crossorigin=anonymous><link rel=stylesheet href=/css/syntax.min.e379066489e20d5433ca35ac1f468fd9e8859705a62d77a79bb7379ac3613848.css integrity="sha256-43kGZIniDVQzyjWsH0aP2eiFlwWmLXenm7c3msNhOEg=" crossorigin=anonymous><style>body{font-family:-apple-system,BlinkMacSystemFont,inter,segoe ui,Roboto,sans-serif;line-height:1.5;color:#000;background:#fff}[data-theme=dark] body{color:#fff;background:#000}.container{max-width:768px;margin:0 auto;padding:0 1rem}</style><script src=https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js integrity=sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz crossorigin=anonymous defer></script><script src=/js/dark-mode.min.3e457dc8346f064bee795e6f9b73e1516dcd059e750c521fe4b445f9ea9a7821.js integrity="sha256-PkV9yDRvBkvueV5vm3PhUW3NBZ51DFIf5LRF+eqaeCE=" defer></script><script>window.addEventListener("load",function(){const e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-LN6QP6VVM3",document.head.appendChild(e),e.onload=function(){window.dataLayer=window.dataLayer||[];function e(){dataLayer.push(arguments)}e("js",new Date),e("config","G-LN6QP6VVM3")}})</script></head><body itemscope itemtype=https://schema.org/WebPage class=theme-tomatohugo><a href=#main-content class="skip-link sr-only sr-only-focusable" aria-label="Skip to main content">Skip to main content</a><header role=banner class=site-header><nav class="navbar navbar-expand-lg navbar-light bg-light" role=navigation aria-label="Main navigation"><div class=container><a class=navbar-brand href=https://yuhi-sa.github.io/ aria-label="Return to tomato blog homepage">tomato blog
</a><button class="navbar-toggler d-lg-none" type=button data-bs-toggle=collapse data-bs-target=#navbarNav aria-controls=navbarNav aria-expanded=false aria-label="Toggle navigation menu">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarNav><ul class="navbar-nav ms-auto" role=menubar><li class=nav-item role=none><a class=nav-link href=https://yuhi-sa.github.io/en/ role=menuitem aria-label="Navigate to Blog">Blog</a></li><li class=nav-item role=none><a class=nav-link href=https://yuhi-sa.github.io/en/tags/ role=menuitem aria-label="Navigate to Tags">Tags</a></li><li class=nav-item role=none><a class=nav-link href=https://yuhi-sa.github.io/en/posts/about/ role=menuitem aria-label="Navigate to About">About</a></li><li class=nav-item role=none><a class=nav-link href=https://yuhi-sa.github.io/en/posts/privacy_policy/ role=menuitem aria-label="Navigate to Privacy policy">Privacy policy</a></li><li class=nav-item role=none><button id=darkModeToggle class="nav-link btn btn-link border-0" type=button role=menuitem aria-label="Toggle dark mode" title="Switch between light and dark themes">
<i class="fas fa-moon" id=darkModeIcon aria-hidden=true></i>
<span class="d-lg-none ms-2">ダークモード</span></button></li></ul></div></div></nav><script data-ad-client=ca-pub-9558545098866170 async crossorigin=anonymous src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></header><main id=main-content role=main class=site-main aria-label="Main content"><div class="container mt-4"><div class="row justify-content-center"><div class=col-lg-8><article itemscope itemtype=https://schema.org/Article><header class=article-header><h1 itemprop=headline>Proper Usage Patterns for the use client Directive in Next.js App Router</h1><p class="lead article-description" itemprop=description>Understand how the use client directive propagates in Next.js App Router and learn the best patterns for placing it at the server-client component boundary.</p><div class=article-meta><time datetime=2024-05-03T10:10:00+09:00 itemprop=datePublished><i class="far fa-calendar-alt me-1" aria-hidden=true></i>
May 3, 2024
</time><time datetime=2026-02-14T00:31:41+09:00 itemprop=dateModified class=ms-3><i class="far fa-edit me-1" aria-hidden=true></i>
Updated
February 14, 2026
</time><span aria-label="Reading time" class=ms-3><i class="far fa-clock me-1" aria-hidden=true></i>
2 min read</span></div><div class=article-tags role=group aria-label="Article tags"><a href=/en/tags/typescript/ class="badge badge-custom text-decoration-none me-1" rel=tag itemprop=keywords>TypeScript
</a><a href=/en/tags/next.js/ class="badge badge-custom text-decoration-none me-1" rel=tag itemprop=keywords>Next.js
</a><a href=/en/tags/react/ class="badge badge-custom text-decoration-none me-1" rel=tag itemprop=keywords>React</a></div></header><div class=article-content itemprop=articleBody><h2 id=basics-of-nextjs-app-router>Basics of Next.js App Router</h2><p>In Next.js App Router, <strong>Server Components</strong> are adopted by default. This means components are rendered on the server side, and only HTML and minimal JavaScript are sent to the client. This provides benefits such as faster initial loads and improved SEO.</p><p>On the other hand, components that require client-side interactive features (event handling, Hooks, etc.) need to be marked as <strong>Client Components</strong>. To use a client component, you declare the <code>"use client"</code> directive at the top of the file.</p><h2 id=proper-usage-of-use-client>Proper Usage of <code>use client</code></h2><p>The <code>"use client"</code> directive can be declared anywhere, but it is recommended to limit its use to <strong>the boundary between Client Components and Server Components</strong>.</p><h3 id=propagation-of-use-client>Propagation of <code>use client</code></h3><p>A file where <code>"use client"</code> is declared not only becomes a client component itself, but <strong>all components imported from it are also automatically treated as client components</strong>. In other words, <code>"use client"</code> propagates from the declared file to the entire downstream component tree.</p><p>For example, if a <code>ParentComponent</code> with <code>"use client"</code> declared imports a <code>ChildComponent</code>, the <code>ChildComponent</code> will be rendered as a client component even if its file does not contain <code>"use client"</code>.</p><h3 id=maintaining-flexibility-and-performance>Maintaining Flexibility and Performance</h3><p>If you don&rsquo;t understand this propagation behavior and declare <code>"use client"</code> in unnecessarily many files, the following problems can occur:</p><ul><li><strong>Unnecessary client-side processing</strong>: Components that could have been rendered on the server are treated as client components, increasing bundle size and client-side rendering time.</li><li><strong>Reduced component flexibility</strong>: When developing versatile UI components, the flexibility to use them as either server or client components is lost.</li></ul><h3 id=conclusion-declare-at-the-boundary>Conclusion: Declare at the Boundary</h3><p>Therefore, it is important to declare <code>"use client"</code> <strong>only at the topmost component where the switch from server to client components is needed</strong>. This maintains component flexibility, avoids unnecessary client-side processing, and maximizes the benefits of App Router.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// app/page.tsx (Server Component)
</span></span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>ClientComponent</span> <span class=kr>from</span> <span class=s1>&#39;./ClientComponent&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>HomePage() {</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>h1</span><span class=p>&gt;</span><span class=nx>Welcome</span><span class=o>!</span><span class=p>&lt;/</span><span class=nt>h1</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>ClientComponent</span> <span class=p>/&gt;</span> <span class=p>{</span><span class=cm>/* Import the client component here */</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// app/ClientComponent.tsx (Client Component)
</span></span></span><span class=line><span class=cl><span class=s2>&#34;use client&#34;</span><span class=p>;</span> <span class=c1>// Declare the boundary here
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>React</span><span class=p>,</span> <span class=p>{</span> <span class=nx>useState</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;react&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=kd>function</span> <span class=nx>ClientComponent() {</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=p>[</span><span class=nx>count</span><span class=p>,</span> <span class=nx>setCount</span><span class=p>]</span> <span class=o>=</span> <span class=nx>useState</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>button</span> <span class=na>onClick</span><span class=o>=</span><span class=p>{()</span> <span class=o>=&gt;</span> <span class=nx>setCount</span><span class=p>(</span><span class=nx>count</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)}&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nx>You</span> <span class=nx>clicked</span> <span class=p>{</span><span class=nx>count</span><span class=p>}</span> <span class=nx>times</span><span class=p>.</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=references>References</h2><ul><li>Takefumi Yoshii, &ldquo;Practical Next.js &ndash; Evolving Web App Development with App Router,&rdquo; Gijutsu-Hyoron (2023)</li><li><a href=https://nextjs.org/docs/app/building-your-application/routing/pages-and-layouts#server-components>Next.js Documentation: Server Components</a></li><li><a href=https://nextjs.org/docs/app/building-your-application/routing/pages-and-layouts#client-components>Next.js Documentation: Client Components</a></li></ul></div><div class="ad-slot in-content my-3"><ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-9558545098866170></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><footer class=article-footer></footer><meta itemprop=wordCount content="398"><meta itemprop=url content="https://yuhi-sa.github.io/en/posts/20240504_use_client/1/"></article><nav class="post-nav mt-5" aria-label="Post navigation"><a href=/en/posts/20231218_hugo/1/ class="post-nav__item post-nav__item--prev"><span class="post-nav__label text-muted"><i class="fas fa-arrow-left me-1" aria-hidden=true></i>前の記事
</span><span class=post-nav__title>Integrating TypeScript and React into a Hugo Theme</span>
</a><a href=/en/posts/20240503_riss/1/ class="post-nav__item post-nav__item--next"><span class="post-nav__label text-muted">次の記事<i class="fas fa-arrow-right ms-1" aria-hidden=true></i>
</span><span class=post-nav__title>Passing the Registered Information Security Specialist (RISS) Exam: Study Methods to Registration</span></a></nav><section class="related-posts mt-5" aria-label="Related posts"><h2 class=related-posts__title>関連記事</h2><div class=related-posts__grid><article class=related-posts__item><h3 class=related-posts__item-title><a href=/en/posts/20231218_hugo/1/>Integrating TypeScript and React into a Hugo Theme</a></h3><div class=card-meta><time datetime=2023-12-18>December 18, 2023</time></div></article><article class=related-posts__item><h3 class=related-posts__item-title><a href=/en/posts/20221111_react/1/>Building a React/TypeScript Development Environment with Webpack and Babel</a></h3><div class=card-meta><time datetime=2022-11-11>November 11, 2022</time></div></article><article class=related-posts__item><h3 class=related-posts__item-title><a href=/en/posts/20231124_t3/1/>Technical Challenges of Sharing prom-client Metrics Between Next.js App Router and Pages Router</a></h3><div class=card-meta><time datetime=2023-11-24>November 24, 2023</time></div></article></div></section><nav class="article-navigation mt-4" aria-label="Article navigation"><a href=/en/posts/ class="btn btn-outline-secondary btn-sm mb-3"><i class="fas fa-arrow-left me-1" aria-hidden=true></i>
Back to posts</a><nav aria-label="Breadcrumb navigation" class=breadcrumb-nav role=navigation><ol class=breadcrumb itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumb-item itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a href=/en/ itemprop=item aria-label="Navigate to homepage"><i class="fas fa-home" aria-hidden=true></i>
<span itemprop=name>tomato blog</span>
</a><meta itemprop=position content="1"></li><li class=breadcrumb-item itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a href=https://yuhi-sa.github.io/en/ itemprop=item aria-label="Navigate to tomato blog"><span itemprop=name>tomato blog</span>
</a><meta itemprop=position content="2"></li><li class=breadcrumb-item itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a href=https://yuhi-sa.github.io/en/posts/ itemprop=item aria-label="Navigate to Posts"><span itemprop=name>Posts</span>
</a><meta itemprop=position content="3"></li><li class="breadcrumb-item active" aria-current=page itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><span itemprop=name>Proper Usage Patterns for the use client Directive in Next.js App Router</span>
<meta itemprop=position content="4"></li></ol></nav></nav></div></div></div></main><footer role=contentinfo class=site-footer><div class="container pt-4 pb-3" style="border-top:2px solid var(--accent,#e54d2e)"><div class="row justify-content-center"><div class="col-md-8 text-center"><p class="copyright-text text-muted mb-2">&copy; 2026 yuhi-sa. All rights reserved.</p><p class="theme-attribution text-muted small mt-2 mb-0">Powered by
<a href=https://gohugo.io/ target=_blank rel=noopener class=text-decoration-none>Hugo</a>
with
<a href=https://github.com/yuhi-sa/tomatohugo target=_blank rel=noopener class=text-decoration-none>TomatoHugo</a></p></div></div></div></footer><script src=https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js integrity=sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz crossorigin=anonymous defer></script><script src=/js/dark-mode.min.3e457dc8346f064bee795e6f9b73e1516dcd059e750c521fe4b445f9ea9a7821.js integrity="sha256-PkV9yDRvBkvueV5vm3PhUW3NBZ51DFIf5LRF+eqaeCE=" defer></script><script>window.addEventListener("load",function(){const e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-LN6QP6VVM3",document.head.appendChild(e),e.onload=function(){window.dataLayer=window.dataLayer||[];function e(){dataLayer.push(arguments)}e("js",new Date),e("config","G-LN6QP6VVM3")}})</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"WebPage","name":"Proper Usage Patterns for the use client Directive in Next.js App Router","url":"https:\/\/yuhi-sa.github.io\/en\/posts\/20240504_use_client\/1\/","description":"Understand how the use client directive propagates in Next.js App Router and learn the best patterns for placing it at the server-client component boundary.","inLanguage":"en","isPartOf":{"@type":"WebSite","name":"tomato blog","url":"https:\/\/yuhi-sa.github.io\/"}}</script></body></html>